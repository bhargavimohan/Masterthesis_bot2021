<style type="text/css">
  h2 {
    font-family:sans-serif;
  }
  .list {
    font-family:sans-serif;
    margin:0;
    padding:20px 0 0;
  }
  .list > li {
    display:block;
    background-color: #eee;
    padding:10px;
    box-shadow: inset 0 1px 0 #fff;
  }
  .avatar {
    max-width: 150px;
  }
  img {
    max-width: 100%;
  }
  h3 {
    font-size: 16px;
    margin:0 0 0.3rem;
    font-weight: normal;
    font-weight:bold;
  }
  p {
    margin:0;
  }

  a{
    background-color: #28a8e0 ;
    color:  #ffffff;
  }
  
  input {
    border:solid 1px #ccc;
    border-radius: 5px;
    padding:7px 14px;
    margin-bottom:10px
  }
  input:focus {
    outline:none;
    border-color:#aaa;
  }
  .sort {
    padding:8px 30px;
    border-radius: 6px;
    border:none;
    display:inline-block;
    color:#fff;
    text-decoration: none;
    background-color: #28a8e0;
    height:30px;
  }
  .sort:hover {
    text-decoration: none;
    background-color:#1b8aba;
  }
  .sort:focus {
    outline:none;
  }
  .sort:after {
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-bottom: 5px solid transparent;
    content:"";
    position: relative;
    top:-10px;
    right:-5px;
  }
  .sort.asc:after {
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid #fff;
    content:"";
    position: relative;
    top:13px;
    right:-5px;
  }
  .sort.desc:after {
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-bottom: 5px solid #fff;
    content:"";
    position: relative;
    top:-10px;
    right:-5px;
  }
  .styled-table {
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
    min-width: 400px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}
.styled-table thead tr {
    background-color: #28a8e0;
    color: #ffffff;
    text-align: left;
}
.styled-table th,
.styled-table td {
    padding: 12px 15px;
}
.styled-table tbody tr {
    border-bottom: 1px solid #dddddd;
}

.styled-table tbody tr:nth-of-type(even) {
    background-color: #f3f3f3;
}

.styled-table tbody tr:last-of-type {
    border-bottom: 2px solid #28a8e0;
}
.styled-table tbody tr.active-row {
    font-weight: bold;
    color: #000000;
}


.btn-primary {
    color: #fff;
    background-color: #2196f3
}

  </style>

<div class="col-md-12 text-right mb-3">
<button class="sort" id="download"> Export as PDF</button>
</div>



&nbsp; 
&nbsp;
&nbsp; 
  
<div class="card" id="invoice">
  <p>Here you can find all your design decisions discussed in this channel. Please save all your design decisions by clicking on "Export as PDF" in case you want to either reset the type of initialization for this channel or would like to delete the channel. If not, all the data would be deleted.</p>

      <table class="styled-table">
        <thead>
            <tr>
                <th>V-model phase</th>
                <th>Choice by</th>
            </tr>
        </thead>
        <tbody>
            <tr class="active-row">
                <td>{{ tables_list.vphase }}</td>
                <td>{{ tables_list.membername }}</td>

            </tr>
        </tbody>
    </table>
   
      &nbsp; 
      &nbsp; 


  <div id="users">
    <input class="search" placeholder="Search" />
    <button class="sort" data-sort="Date">
      Sort by date
    </button>
  
    <ul class="list">
      {% for decision in decisions_list %}
      {% if decision.decision_a != '' %}  
    <li>
    <h2 class="Decisionname">{{decision.decisionname_a}}</h2>  
    <h3 class="Decision">{{decision.decision_a}}</h3> 
    <p class="Member">{{decision.membername}}</p>
    <p class="Date">{{decision.date}}</p>
    </li>
    {% endif %}
  
    {% if decision.decision_b != '' %}
  <li>
    <h2 class="Decisionname">{{decision.decisionname_b}}</h2> 
    <h3 class="Decision">{{decision.decision_b}}</h3> 
    <p class="Member">{{decision.membername}}</p>
    <p class="Date">{{decision.date}}</p>
  </li>
    {% endif %}
  
    {% if decision.decision_c != '' %}
  <li>
    <h2 class="Decisionname">{{decision.decisionname_c}}</h2> 
    <h3 class="Decision">{{decision.decision_c}}</h3> 
    <p class="Member">{{decision.membername}}</p>
    <p class="Date">{{decision.date}}</p>
    </li>
    {% endif %}
    {% endfor %}  
    </ul>   
    
  </div>
</div> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>

  
  <script>
  
  var options = {
    valueNames: [ 'Decisionname', 'Decision','Member', 'Date' ]
  };

  var userList = new List('users', options);
  
  </script>


<script>
  window.onload = function () {
    document.getElementById("download")
        .addEventListener("click", () => {
            const invoice = this.document.getElementById("invoice");
            console.log(invoice);
            console.log(window);
            var opt = {
                margin: 1,
                filename: "{{ tables_list.name | safe}}_{{ tables_list.vphase | safe}}",
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            html2pdf().from(invoice).set(opt).save();
        })
}

</script>










